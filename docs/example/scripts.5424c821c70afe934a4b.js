let prevHighlighted,prevStyle;const clearPrevHighlighted=()=>{prevHighlighted&&(prevHighlighted.style.opacity=prevStyle.opacity,prevHighlighted.style.border=prevStyle.border,prevHighlighted.style.cursor=prevStyle.cursor)},highlight=e=>{prevStyle={opacity:(prevHighlighted=e.target).style.opacity,border:prevHighlighted.style.border,cursor:prevHighlighted.style.cursor},prevHighlighted.style.opacity="0.5",prevHighlighted.style.border="2px solid red",prevHighlighted.style.cursor="pointer"},getElementByXpath=e=>(new XPathEvaluator).evaluate(e,document.documentElement,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,mouseover=e=>{clearPrevHighlighted(),highlight(e)},click=e=>{const t=getPathTo(e.target);e.preventDefault(),e.stopImmediatePropagation(),parent.postMessage({action:"select-complete",data:t},"*"),document.removeEventListener("mouseover",mouseover),document.removeEventListener("click",click,{capture:!0}),clearPrevHighlighted()};function getPathTo(e){if(""!==e.id)return'id("'+e.id+'")';if(e===document.body)return e.tagName;for(var t=0,r=e.parentNode.childNodes,i=0;i<r.length;i++){var o=r[i];if(o===e)return getPathTo(e.parentNode)+"/"+e.tagName+"["+(t+1)+"]";1===o.nodeType&&o.tagName===e.tagName&&t++}}window.addEventListener("message",e=>{const{data:t}=e,{action:r}=t;"setup"===r&&(document.addEventListener("mouseover",mouseover),document.addEventListener("click",click,{capture:!0}))});